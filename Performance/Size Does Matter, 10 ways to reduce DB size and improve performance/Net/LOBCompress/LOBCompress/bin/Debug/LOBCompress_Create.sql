/*
Deployment script for LOBCompress

This code was generated by a tool.
Changes to this file may cause incorrect behavior and will be lost if
the code is regenerated.
*/

GO
SET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, CONCAT_NULL_YIELDS_NULL, QUOTED_IDENTIFIER ON;

SET NUMERIC_ROUNDABORT OFF;


GO
:setvar DatabaseName "LOBCompress"
:setvar DefaultFilePrefix "LOBCompress"
:setvar DefaultDataPath ""
:setvar DefaultLogPath ""

GO
:on error exit
GO
/*
Detect SQLCMD mode and disable script execution if SQLCMD mode is not supported.
To re-enable the script after enabling SQLCMD mode, execute the following:
SET NOEXEC OFF; 
*/
:setvar __IsSqlCmdEnabled "True"
GO
IF N'$(__IsSqlCmdEnabled)' NOT LIKE N'True'
    BEGIN
        PRINT N'SQLCMD mode must be enabled to successfully execute this script.';
        SET NOEXEC ON;
    END


GO
USE [master];


GO

IF (DB_ID(N'$(DatabaseName)') IS NOT NULL) 
BEGIN
    ALTER DATABASE [$(DatabaseName)]
    SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
    DROP DATABASE [$(DatabaseName)];
END

GO
PRINT N'Creating $(DatabaseName)...'
GO
CREATE DATABASE [$(DatabaseName)] COLLATE SQL_Latin1_General_CP1_CI_AS
GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET ANSI_NULLS ON,
                ANSI_PADDING ON,
                ANSI_WARNINGS ON,
                ARITHABORT ON,
                CONCAT_NULL_YIELDS_NULL ON,
                NUMERIC_ROUNDABORT OFF,
                QUOTED_IDENTIFIER ON,
                ANSI_NULL_DEFAULT ON,
                CURSOR_DEFAULT LOCAL,
                RECOVERY FULL,
                CURSOR_CLOSE_ON_COMMIT OFF,
                AUTO_CREATE_STATISTICS ON,
                AUTO_SHRINK OFF,
                AUTO_UPDATE_STATISTICS ON,
                RECURSIVE_TRIGGERS OFF 
            WITH ROLLBACK IMMEDIATE;
        ALTER DATABASE [$(DatabaseName)]
            SET AUTO_CLOSE OFF 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET ALLOW_SNAPSHOT_ISOLATION OFF;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET READ_COMMITTED_SNAPSHOT OFF;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET AUTO_UPDATE_STATISTICS_ASYNC OFF,
                PAGE_VERIFY NONE,
                DATE_CORRELATION_OPTIMIZATION OFF,
                DISABLE_BROKER,
                PARAMETERIZATION SIMPLE,
                SUPPLEMENTAL_LOGGING OFF 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF IS_SRVROLEMEMBER(N'sysadmin') = 1
    BEGIN
        IF EXISTS (SELECT 1
                   FROM   [master].[dbo].[sysdatabases]
                   WHERE  [name] = N'$(DatabaseName)')
            BEGIN
                EXECUTE sp_executesql N'ALTER DATABASE [$(DatabaseName)]
    SET TRUSTWORTHY OFF,
        DB_CHAINING OFF 
    WITH ROLLBACK IMMEDIATE';
            END
    END
ELSE
    BEGIN
        PRINT N'The database settings cannot be modified. You must be a SysAdmin to apply these settings.';
    END


GO
IF IS_SRVROLEMEMBER(N'sysadmin') = 1
    BEGIN
        IF EXISTS (SELECT 1
                   FROM   [master].[dbo].[sysdatabases]
                   WHERE  [name] = N'$(DatabaseName)')
            BEGIN
                EXECUTE sp_executesql N'ALTER DATABASE [$(DatabaseName)]
    SET HONOR_BROKER_PRIORITY OFF 
    WITH ROLLBACK IMMEDIATE';
            END
    END
ELSE
    BEGIN
        PRINT N'The database settings cannot be modified. You must be a SysAdmin to apply these settings.';
    END


GO
ALTER DATABASE [$(DatabaseName)]
    SET TARGET_RECOVERY_TIME = 0 SECONDS 
    WITH ROLLBACK IMMEDIATE;


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET FILESTREAM(NON_TRANSACTED_ACCESS = OFF),
                CONTAINMENT = NONE 
            WITH ROLLBACK IMMEDIATE;
    END


GO
USE [$(DatabaseName)];


GO
IF fulltextserviceproperty(N'IsFulltextInstalled') = 1
    EXECUTE sp_fulltext_database 'enable';


GO
PRINT N'Creating [LOBCompress]...';


GO
CREATE ASSEMBLY [LOBCompress]
    AUTHORIZATION [dbo]
    FROM 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C0103000FFDF0540000000000000000E00002210B010B00000E00000006000000000000FE2B0000002000000040000000000010002000000002000004000000000000000400000000000000008000000002000000000000030040850000100000100000000010000010000000000000100000000000000000000000A82B00005300000000400000B002000000000000000000000000000000000000006000000C000000702A00001C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E74657874000000040C000000200000000E000000020000000000000000000000000000200000602E72737263000000B0020000004000000004000000100000000000000000000000000000400000402E72656C6F6300000C0000000060000000020000001400000000000000000000000000004000004200000000000000000000000000000000E02B00000000000048000000020005002C2300004407000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001B300400800000000100001100026F0500000A16FE010D092D08280600000A0C2B67730700000A0A00061717730800000A0B0007026F0900000A16026F0900000A8E696F0A00000A00076F0B00000A00076F0C00000A0000DE100714FE010D092D07076F0D00000A00DC00066F0E00000A730F00000A0CDE100614FE010D092D07066F0D00000A00DC00082A011C000002002600284E00100000000002001C00516D0010000000001B300400990000000200001100026F0500000A16FE01130611062D09280600000A13052B7C20008000000A068D0E0000010B730700000A0C00026F1000000A1617730800000A0D002B0B08071611046F0A00000A00090716066F1100000A25130416FE02130611062DE000DE120914FE01130611062D07096F0D00000A00DC00086F0E00000A730F00000A1305DE120814FE01130611062D07086F0D00000A00DC0011052A000000011C000002003B00266100120000000002002C0057830012000000001B300400340100000300001100026F0500000A16FE01130911092D0C7E1200000A1308381401000020008000000A068D0E0000010B730700000A0C00026F1000000A1617730800000A0D002B0B08071611046F0A00000A00090716066F1100000A25130416FE02130911092DE000DE120914FE01130911092D07096F0D00000A00DC0008166A6F1300000A0008281400000A1305002B690011056F1500000A17331611056F1600000A7201000070281700000A16FE012B011700130911092D3F00110572090000706F1800000A13061106281900000A2D0B11061207281A00000A2B011600130911092D097E1200000A1308DE481107731B00000A1308DE3D0011056F1C00000A130911092D8A7E1200000A1308DE26110514FE01130911092D0811056F0D00000A00DC0814FE01130911092D07086F0D00000A00DC0011082A0128000002003E00266400120000000002008800820A01140000000002002F00EF1E0112000000001E02281D00000A2A42534A4201000100000000000C00000076322E302E35303732370000000005006C0000005C020000237E0000C8020000B402000023537472696E6773000000007C05000020000000235553009C050000100000002347554944000000AC0500009801000023426C6F620000000000000002000001471502000900000000FA25330016000001000000120000000200000004000000030000001D0000000600000003000000010000000400000000000A00010000000000060033002C000A005B0046000A00840046000600B500A2001300C90000000600F800D80006001801D8000A005D0142010600900186010E00B3019D010600C10186010E00C8019D010600F5012C00060011022C00120043023802120054023802060076022C000600A4022C000000000001000000000001000100010010001A000000050001000100502000000000960064000A000100F82000000000960073000A000200BC210000000096008D00110003002423000000008618960018000400000001009C00000001009C00000001009C00210096001C0031009600220039009600180041009600180011007201D80011007D01DC0049009600180051009600E1001100D801EA005900E301EF005900E90118005900EF01180069000102180049000902EA0011009600F700110016020701590021020C0119002602220159002B02260179004D022B0179006002320179006D02370189007D023B017900890241018900960246019100AA024B0119009600220079002102D8000900960018002000230027002E001B0076012E000B0064012E0013006D01400023002700600023002700FD001401520104800000000000000000000000000000000036010000020000000000000000000000010023000000000002000000000000000000000001003A000000000002000000000000000000000001002C000000000002000000000000000000000001003802000000000000003C4D6F64756C653E004C4F42436F6D70726573732E646C6C00436F6D7072657373006D73636F726C69620053797374656D004F626A6563740053797374656D2E446174610053797374656D2E446174612E53716C54797065730053716C42797465730042696E617279436F6D70726573730042696E6172794465636F6D70726573730053716C496E743332004765744F626A4964002E63746F7200696E7075740053797374656D2E446961676E6F73746963730044656275676761626C6541747472696275746500446562756767696E674D6F6465730053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300436F6D70696C6174696F6E52656C61786174696F6E734174747269627574650052756E74696D65436F6D7061746962696C697479417474726962757465004C4F42436F6D7072657373004D6963726F736F66742E53716C5365727665722E5365727665720053716C46756E6374696F6E417474726962757465006765745F49734E756C6C006765745F4E756C6C0053797374656D2E494F004D656D6F727953747265616D0053797374656D2E494F2E436F6D7072657373696F6E004465666C61746553747265616D0053747265616D00436F6D7072657373696F6E4D6F6465006765745F42756666657200577269746500466C75736800436C6F73650049446973706F7361626C6500446973706F736500546F41727261790042797465006765745F53747265616D0052656164004E756C6C007365745F506F736974696F6E0053797374656D2E586D6C00586D6C5265616465720043726561746500586D6C4E6F646554797065006765745F4E6F646554797065006765745F4E616D6500537472696E67006F705F457175616C697479004765744174747269627574650049734E756C6C4F72456D70747900496E7433320054727950617273650000000772006F00770000136F0062006A006500630074005F00690064000000000064CCA512984E5F4E83FEA936108B80470008B77A5C561934E08906000112091209060001110D120903200001052001011115042001010880AF0100030054020F497344657465726D696E697374696301540209497350726563697365015455794D6963726F736F66742E53716C5365727665722E5365727665722E446174614163636573734B696E642C2053797374656D2E446174612C2056657273696F6E3D322E302E302E302C2043756C747572653D6E65757472616C2C205075626C69634B6579546F6B656E3D623737613563353631393334653038390A446174614163636573730000000003200002040000120908200301122D1131020420001D05072003011D050808052001011D0509070412251229120902042000122D072003081D0508080D0707081D0512251229081209020306110D042001010A060001123D122D04200011410320000E050002020E0E0420010E0E040001020E060002020E100811070A081D051225122908123D0E08110D020801000701000000000801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F777301000000000000000FFDF05400000000020000001C0100008C2A00008C0C000052534453BD8FB3FB1E1D6C4C9A866A396E2DB75203000000653A5C576F726B5C576F726B5C56535C4C4F42436F6D70726573735C4C4F42436F6D70726573735C6F626A5C44656275675C4C4F42436F6D70726573732E706462000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000D02B00000000000000000000EE2B0000002000000000000000000000000000000000000000000000E02B000000000000000000000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF25002000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100000001800008000000000000000000000000000000100010000003000008000000000000000000000000000000100000000004800000058400000540200000000000000000000540234000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE00000100000000000000000000000000000000003F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B004B4010000010053007400720069006E006700460069006C00650049006E0066006F0000009001000001003000300030003000300034006200300000002C0002000100460069006C0065004400650073006300720069007000740069006F006E000000000020000000300008000100460069006C006500560065007200730069006F006E000000000030002E0030002E0030002E003000000040001000010049006E007400650072006E0061006C004E0061006D00650000004C004F00420043006F006D00700072006500730073002E0064006C006C0000002800020001004C006500670061006C0043006F0070007900720069006700680074000000200000004800100001004F0072006900670069006E0061006C00460069006C0065006E0061006D00650000004C004F00420043006F006D00700072006500730073002E0064006C006C000000340008000100500072006F006400750063007400560065007200730069006F006E00000030002E0030002E0030002E003000000038000800010041007300730065006D0062006C0079002000560065007200730069006F006E00000030002E0030002E0030002E003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000C000000003C00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;


GO
ALTER ASSEMBLY [LOBCompress]
    DROP FILE ALL
    ADD FILE FROM 0x4D6963726F736F667420432F432B2B204D534620372E30300D0A1A445300000000020000020000001B0000008C000000000000001A00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020F93FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF1802C0F8FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0BCA3101380000000010000000100000000000000D00FFFF04000000038000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000BCA3101380000000010000000100000000000000E00FFFF0400000003800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000F862513FC607D311905300C04FA302A1C4454B99E9E6D211903F00C04FA302A10B9D865A1166D311BD2A0000F80849BD60A66E40CF64824CB6F042D48172A799100000000000000041BC8765B91D26254BACA8E41C05397D000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000BCA310138000000001000000010000000000000FFFFFFFF040000000380000000000000FFFFFFFF00000000FFFFFFFF00000000FFFFFFFF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000BCA310138000000001000000010000000000000FFFFFFFF040000000380000000000000FFFFFFFF00000000FFFFFFFF00000000FFFFFFFF00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004D020000000000004D0200000000000000000000000000000000000000000000FC0900005C0200002C000000A0000000FFFFFFFF2800000019000000030000000600000015000000070000000A00000009000000040000000C0000000D0000000E0000000F000000100000001100000012000000140000001300000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001BE2300180000000ED2351D4D94ED001020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000200000001000000010000000000000036000000280000001BE230013DBDE9F458000000010000003500000036000000650000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000FEEFFEEF010000006A00000000653A5C576F726B5C576F726B5C56535C4C4F42436F6D70726573735C4C4F42436F6D70726573735C436F6D70726573732E63730000653A5C776F726B5C776F726B5C76735C6C6F62636F6D70726573735C6C6F62636F6D70726573735C636F6D70726573732E637300040000003500000001000000360000000000000003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001BE23001800000009D682AC3E452D001030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000200000001000000010000000000000036000000280000001BE230016E82370C580000000100000035000000360000006500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000036002A1100000000F4010000000000008000000000000000000000000100000600000000010000000042696E617279436F6D7072657373001600031104000000C00100008000000000000000010000000A0024115553797374656D00120024115553797374656D2E44617461000000001A0024115553797374656D2E446174612E53716C436C69656E7400001A0024115553797374656D2E446174612E53716C54797065730000000E0024115553797374656D2E494F00001A0024115553797374656D2E494F2E436F6D7072657373696F6E00000E0024115553797374656D2E586D6C001E002411554D6963726F736F66742E53716C5365727665722E536572766572001E002011020000000100001100000000000004004353243124303030300000001E00201103000000010000110000000000000400435324342430303031000000160003113C000000BC0100006700000016000000010000001A00201100000000010000110000000000000000726573756C7400001600031148010000B8010000420000001D0000000100000022002011010000000100001100000000000000006465666C61746553747265616D0000000200060002000600020006002E000404C93FEAC6B359D649BC250902BBABB460000000004D0044003200000004010000040000000C00000001000800020006003A002A1100000000AC030000000000009900000000000000000000000200000680000000010000000042696E6172794465636F6D707265737300000016000311F8010000780300009900000080000000010000001E002011050000000200001100000000000004004353243124303030300000001E002011060000000200001100000000000004004353243424303030310000001E00201100000000020000110000000000000000626174636853697A650000001600201101000000020000110000000000000000627566001600031134020000740300006F000000A6000000010000001A00201102000000020000110000000000000000726573756C74000016000311C40200007003000047000000AD0000000100000022002011030000000200001100000000000000006465666C61746553747265616D00000016000311F80200006C03000024000000BB000000010000001E00201104000000020000110000000000000000627974657352656164000000020006000200060002000600020006002E000404C93FEAC6B359D649BC250902BBABB460000000004D00440032000000040100000401F5000C000000010000060200060032002A1100000000DC05000000000000340100000000000000000000030000061901000001000000004765744F626A496400000016000311B0030000A80500003401000019010000010000001E002011080000000300001100000000000004004353243124303030300000001E002011090000000300001100000000000004004353243424303030310000001E00201100000000030000110000000000000000626174636853697A6500000016002011010000000300001100000000000000006275660016000311E4030000A40500000701000042010000010000001A00201102000000030000110000000000000000726573756C74000016000311740400002005000047000000490100000100000022002011030000000300001100000000000000006465666C61746553747265616D00000016000311A80400001C0500002400000057010000010000001E0020110400000003000011000000000000000062797465735265616400000002000600020006001600031174040000A00500009E00000099010000010000001600201105000000030000110000000000000000786D6C0016000311240500009C0500003F000000CD0100000100000016002011060000000300001100000000000000006F626A00160020110700000003000011000000000000000072657300020006000200060002000600020006002E000404C93FEAC6B359D649BC250902BBABB460000000004D00440032000000040100000401F5000C0000000100000602000600F2000000F00000000000000001000100800000000000000012000000E4000000000000001A000080010000001B0000800B000000EEEFFE800E0000001C000080160000001E0000801C0000001F0000801D00000020000080260000002100008027000000220000803D0000002300008044000000240000804B000000250000804C000000EEEFFE805E000000EEEFFE805F000000260000806D000000EEEFFE807D000000EEEFFE807E00000028000080050006000A001B00000000000E0023001000380009000A0014006B000D000E0011004B0011002700110027000D000E0000000000000000000D003300000000000000000005000600F200000014010000800000000100010099000000000000001500000008010000000000003000008001000000310000800C000000EEEFFE80100000003200008019000000340000801F0000003500008026000000370000802C000000380000802D000000390000803B0000003A0000803C000000EEEFFE803E0000003D000080490000003C0000805A000000EEEFFE805E0000003E0000805F000000EEEFFE8073000000EEEFFE80740000003F00008083000000EEEFFE8095000000EEEFFE8096000000410000800500060009001A00000000000D00220009001F0009002A001000380009000A00140073000D000E00000000001500350011005000000000000D000E0000000000000000000D003300000000000000000005000600F2000000D40100001901000001000100340100000000000025000000C8010000000000004A000080010000004B0000800C000000EEEFFE80100000004C0000801C0000004E000080220000004F00008029000000510000802F0000005200008030000000530000803E000000540000803F000000EEEFFE8041000000570000804C000000560000805D000000EEEFFE80610000005800008062000000EEEFFE8076000000EEEFFE807700000059000080800000005A000080880000005B00008089000000EEEFFE808B0000005D0000808C0000005E000080B0000000EEEFFE80B40000005F000080B500000060000080C300000062000080DB000000EEEFFE80DF00000063000080E800000065000080F300000067000080F40000005C000080FD000000EEEFFE8001010000680000800A010000EEEFFE8030010000EEEFFE80310100006B0000800500060009001A00000000000D00220009001F0009002A001000380009000A00140073000D000E00000000001500350011005000000000000D000E0000000000000000000D00210014003C000D000E0000000000110012001500520000000000150016001900440019005700000000001D0032001900320011001200110023000000000011002600000000000000000005000600F40000000800000001000000000000001800000000000000200000003800000058000000700000008800000000000000FFFFFFFF1A092FF1300000001C020000590000000100000089000000010000002100000001000000710000000100000001000000010000003900000001000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C0000001800000024000000300000003C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001E0025110000000004000000010042696E617279436F6D7072657373000000001600291100000000040000000100303630303030303100001E00251100000000F8010000010042696E6172794465636F6D707265737300001600291100000000F80100000100303630303030303200001600251100000000B003000001004765744F626A496400001600291100000000B00300000100303630303030303300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000FFFFFFFF1A092FF100000000000000000100303630303030303100001E00251100000000F8010000010042696E6172794465636F6D707265737300001600291100000000F80100000100303630303030303200001600251100000000B003000001004765744F626A496400001600291100000000B003000001003036303030303033000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000FFFFFFFF77093101030000000A00008B0B0015C60C00094654000000580000002C00000040000000000000000000000016000000190000000000EEC00000000000000000FFFF000000000000FFFFFFFF00000000FFFF0000000000000000000000000900E0050000000000000004000001000000D83835010000000000000000436F6D70726573730035363946424345410000002DBA2EF1010000000000000080000000000000000000000000000000000000000100000080000000990000000000000000000000000000000000000001000000190100003401000000000000000000000000000000000000020002000D01000000000100FFFFFFFF000000004D0200000802000000000000FFFFFFFF00000000FFFFFFFF010001000000010000000000653A5C576F726B5C576F726B5C56535C4C4F42436F6D70726573735C4C4F42436F6D70726573735C436F6D70726573732E637300FEEFFEEF010000000100000000010000000000000000000000FFFFFFFFFFFFFFFFFFFF0F00FFFFFFFFFFFFFFFFFFFF000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900000088000000BD00000038000000FFFFFFFF38000000000000008E0000008000000058000000080000000300000006000000070000000A000000090000000400000072632F66696C65732F653A5C776F726B5C776F726B5C76735C6C6F62636F6D70726573735C6C6F62636F6D70726573735C636F6D70726573732E6373000400000006000000010000003A0000000000000011000000070000000A0000000600000000000000050000002200000008000000000000004191320100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001600000020000000BD000000380000008701000038000000000000008E000000800000005800000028000000F00900005C0200002C000000A000000003000000160000000600000015000000070000000A0000000B00000008000000090000000C0000000D0000000E0000000F00000010000000110000001200000014000000130000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000942E31016533EA5403000000BD8FB3FB1E1D6C4C9A866A396E2DB752610000002F4C696E6B496E666F002F6E616D6573002F7372632F686561646572626C6F636B002F7372632F66696C65732F653A5C776F726B5C776F726B5C76735C6C6F62636F6D70726573735C6C6F62636F6D70726573735C636F6D70726573732E6373000400000006000000010000003A0000000000000011000000070000000A0000000600000000000000050000002200000008000000000000004191320100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000044000000BD000000380000008701000038000000000000008E0000008000000058000000FC0900005C0200002C000000A0000000FFFFFFFFFFFFFFFF2800000016000000180000000600000015000000070000000A0000000B000000050000000C0000000D0000000E0000000F0000001000000011000000120000001400000013000000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 AS N'LOBCompress.pdb';


GO
PRINT N'Creating [dbo].[BinaryCompress]...';


GO
CREATE FUNCTION [dbo].[BinaryCompress]
(@input VARBINARY (MAX))
RETURNS VARBINARY (MAX)
AS
 EXTERNAL NAME [LOBCompress].[Compress].[BinaryCompress]


GO
PRINT N'Creating [dbo].[BinaryDecompress]...';


GO
CREATE FUNCTION [dbo].[BinaryDecompress]
(@input VARBINARY (MAX))
RETURNS VARBINARY (MAX)
AS
 EXTERNAL NAME [LOBCompress].[Compress].[BinaryDecompress]


GO
PRINT N'Creating [dbo].[GetObjId]...';


GO
CREATE FUNCTION [dbo].[GetObjId]
(@input VARBINARY (MAX))
RETURNS INT
AS
 EXTERNAL NAME [LOBCompress].[Compress].[GetObjId]


GO
DECLARE @VarDecimalSupported AS BIT;

SELECT @VarDecimalSupported = 0;

IF ((ServerProperty(N'EngineEdition') = 3)
    AND (((@@microsoftversion / power(2, 24) = 9)
          AND (@@microsoftversion & 0xffff >= 3024))
         OR ((@@microsoftversion / power(2, 24) = 10)
             AND (@@microsoftversion & 0xffff >= 1600))))
    SELECT @VarDecimalSupported = 1;

IF (@VarDecimalSupported > 0)
    BEGIN
        EXECUTE sp_db_vardecimal_storage_format N'$(DatabaseName)', 'ON';
    END


GO
ALTER DATABASE [$(DatabaseName)]
    SET MULTI_USER 
    WITH ROLLBACK IMMEDIATE;


GO
PRINT N'Update complete.'
GO
